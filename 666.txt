进入linux系统中从桌面打开命令

输入ifconfig 查询IP地址并记录
然后在桌面打开ssh 白色电脑标志的软件
点击Quick
在host中输入刚才复制的IP地址
user name 填写 root 其它不用管
点击connect
下个弹框点yes并等待下一个弹框
输入password密码:虚拟机开机密码--回车


进入建立连接状态


cd /usr

进入usr目录新建文件夹

mkdir jdk

mkdir tomcat

进入从真机导入jdk安装包



点击ssh顶部黄色文件夹标志
右侧选择需要存放jdk的位置--存放在jdk目录里
左侧找到jdk
根据电脑bit位数进行选择安装包
拖到右侧
会自动进行传送

进入
cd /usr/jdk 

输入
rpm -ivh jdk-8u121-linux-x64.rpm     进行安装

安装完成

默认的安装路径 /usr/java/jdk1.8......

进入到 cd /usr/java/jdk1.8......
修改默认jdk文件名    mv  jdk1.8.0_121 jdk1.8


配置jdk环境变量
找到 根目录 下的 etc 文件夹 中的 profile 文件
采用文件编辑器打开  vi profile
cd /etc

找到 profile 文件的结尾处

vi profile
加入 JAVA_HOME(Linux中jdk安装目录) , PATH,CLASSPATH
export JAVA_HOME=/usr/java/jdk1.8.0_121
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar


使 修改立即生效 
source /etc/profile

查看系统环境变量 
 echo $PATH
java , javac  , java -version 验证jdk是否配置成功


成功的话jdk就安装完了


安装tomcat
cd /usr/tomcat
解压缩 unzip apac
mv apa     tom1

找到Tomcat中bin文件夹
cd /usr/tomcat/tom1/bin/

chmod u+x *.sh 


保存设置  
/etc/rc.d/init.d/iptables save


cd /usr/tomcat/tom2/bin/

chmod u+x *.sh


保存设置
 /etc/rc.d/init.d/iptables save


cd /usr/tomcat/tom3/bin/ 

chmod u+x *.sh 


保存设置
 /etc/rc.d/init.d/iptables save


关闭防火墙
service iptables stop



查看防火墙
service iptables status
修改tom1 tom2 tom3中的conf（cd t1/conf）文件下得vi server.xml 里得  端口 
---cd /usr/tomcat/tom1/conf/
cd /usr/tomcat/tom2/conf/
cd /usr/tomcat/tom3/conf/
tom1:8005、8080、8009
tom2:8006、8081、8010
tom3:8007、8082、8011



启动Tomcat测试能否访问

cd /usr/tomcat/tom1/bin/
cd /usr/tomcat/tom2/bin/
cd /usr/tomcat/tom3/bin/  
启动 
sh startup.sh
关闭 
sh shutdown.sh

在Tomcat中部署web项目     注意!Windowsip与虚拟机ip
关闭Tomcat
通过eclipse 打war包
上传到 Tomcat中的webapps文件夹中
启动Tomcat,访问web项目
在Linux的Tomcat中部署bbs项目注意事项
sqlMapGenernator.xml  bean.xml --数据库配置文件中修改ip地址 改为MySQL数据库所在电脑的IP地址 , 用户名,密码
Linux系统开放MySQL的端口号 3306
启动项目验证是否能够成功访问
在部署到Linux系统中



cd  /usr/tomcat/tom1/conf  vi  server.xml
cd  /usr/tomcat/tom2/conf
cd  /usr/tomcat/tom3/conf
在</Host>上添加代码




<Context path="" docBase="/usr/tomcat/tom1/webapps/bbs1.0" debug="0"/>

<Context path="" docBase="/usr/tomcat/tom2/webapps/bbs1.0" debug="0"/>

<Context path="" docBase="/usr/tomcat/tom3/webapps/bbs1.0" debug="0"/>



<Context path="" docBase="D:/Program Files/Tomcat7 -2/apache-tomcat-7.0.82/webapps/TestProject/" debug="0"/>





cd  /usr/local/
mkdir nginx 
cd nginx 
目录下安装nginx的依赖环境
yum install gcc
yum install pcre-devel
yum install zlib zlib-devel
yum install openssl openssl-devel


下载nginx的tar包
cd  /usr/local/nginx  	
 在nginx文件夹下下载tar包
wget http://nginx.org/download/nginx-1.13.7.tar.gz ,
下载完成之后为
nginx-1.9.9.tar.gz

tar -zxvf  nginx-1.9.9.tar.gz将nginx的压缩包进行解压,解压之后文件夹的名称为nginx-1.9.9


cd  nginx-1.9.9 进入nginx-1.9.9文件夹
./configure 进行初始化
make 进行编译
make  install 进行安装



四．搭建tomcat集群
1)修该nginx文件夹下conf文件夹下的nginx.conf文件
cd /usr/local/nginx/conf

vi nginx.conf


upstream jiqun{
	server 127.0.0.1:8080  weight=1;
	server 127.0.0.1:8081  weight=1;
	server 127.0.0.1:8082  weight=1;
}
server {......
Location  /  {
    proxy_pass http://jiqun;
    
}
}



cd  /usr/local/nginx/sbin

启动nginx

./nginx 
 
./nginx 


停止mginx

./nginx -s stop



